{% extends "base.html" %}

{% block title %}PyWeek - Message Board{% endblock %}

{% block leftbottom %}

{% endblock %}

{% block content %}

<p style="margin-top: 0px; text-align: right;"><span style="float:left;"><a class="add" href="/message_add/">Post new message</a></span> <a class="button" href="{% url diary_feed %}">Atom Feed</a></p>

<table id="diary-board">
<tr><th>Message</th><!-- th>Team</th --><th>Rep</th><th>Last Post</th></tr>
{% for entry in sticky_entries %}
<tr class="{% cycle even,odd %}">
 <td><b>
<a href="/d/{{ entry.id }}/{%if entry.commid%}#comment-{{entry.commid}}{%endif%}">{% if entry.title %}{{ entry.title }}{% else %}[no title]{% endif %}</a></b>
</td>
<!-- td>
<a href="/e/{{ entry.entry_name }}/">{{ entry.entry_name }}</a>
</td -->
<td align="center">
{{ entry.reply_count }}
</td>
 <td style="white-space: pre"><a href="/u/{{ entry.author }}/">{{ entry.author }}</a> <span
style="font-size: 75%">({{ entry.date }})</span></td>
</tr>
{% endfor %}
{% if sticky_entries %}
<tr>
<td style="border-bottom: thin solid gray"></td>
<td style="border-bottom: thin solid gray"></td>
<td style="border-bottom: thin solid gray"></td>
</tr>
{% endif %}

{% for entry in diary_entries %}
<tr class="{% cycle even,odd %}">
 <td>
<a href="/d/{{ entry.id }}/{%if entry.commid%}#comment-{{entry.commid}}{%endif%}">{{ entry.title }}</a>
</td>
<!-- td>
<a href="/e/{{ entry.entry_name }}/">{{ entry.entry_name }}</a>
</td -->
<td align="center">
{{ entry.reply_count }}
</td>
 <td style="white-space: pre"><a href="/u/{{ entry.author }}/">{{ entry.author }}</a> <span style="font-size: 75%">({{ entry.date }})</span></td>
</tr>
{% endfor %}
</table>

<table width="100%" id="pagination">
<tr><td align="left">
{% if prev %}
<a class="button" href="/messages/?start={{ prev }}">&lt;&lt; Previous</a>
{% endif %}
</td><td align="center">Page: 
{% if more_start %}<a class="button" href="/messages/?start=0">first</a> ...{% endif %}
{% for page in pages %}
{% if page.current %}
<span>{{ page.num }}</span>
{% else %}
<a class="button" href="/messages/?start={{ page.start }}">{{ page.num }}</a>
{% endif %}
{% endfor %}
{% if more_end %}... <a class="button" href="/messages/?start={{ last }}">last</a>{% endif %}
</td><td align="right">
{% if next %}
<a class="button" href="/messages/?start={{ next }}">Next &gt;&gt;</a>
{% endif %}
</td></tr>
</table>
{% endblock %}
